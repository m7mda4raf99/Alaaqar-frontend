<div class="app-header" [ngClass]="{'rtl' : activeLang.title === 'AR' || activeLang === 'AR'}">
    <!-- <div class="app-header__up">
        <div class="app-header__language">
            <span (click)="transform_language('en')" *ngIf="activeLang.title === 'AR' || activeLang === 'AR'" class="current">ع</span>
            <span (click)="transform_language('ar')" *ngIf="activeLang.title === 'EN' || activeLang === 'EN'" class="current">E</span>
            <div class="ng-select">
                <ng-select [placeholder]="activeLang.title == 'AR' ? 'أختر الدولة' : 'Select country'" 
                    (change)="transform_country($event)">
                    <ng-option  value="egypt"><span
                            style="display: inline-flex;flex-basis: 0;flex-grow: 1;">{{'egypt' | translate}}</span><img class="lang-flag"
                            style="width: 25px;height:20px;" src="../../assets/images/egypt.png" />
                    </ng-option>
                    <ng-option value="saudi"><span
                            style="display: inline-flex;flex-basis: 0;flex-grow: 1;">{{'saudi' | translate}}</span><img class="lang-flag"
                            style="width: 25px;height:20px;" src="../../assets/images/saudi.png" />
                    </ng-option>

                </ng-select>
            </div>
        </div>
    </div> -->
    <div class="app-header__bottom" >
        <div class="app-header__collapse" (click)="expand_collapse($event)">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <nav class="app-header__menu">
            <ul>
                <li routerLinkActive="active" [routerLinkActiveOptions]="{exact:
                    false}">
                    <a routerLink='/home'>{{'header.tab_home' | translate}}</a>
                </li>
                <li routerLinkActive="active" [routerLinkActiveOptions]="{exact:
                    true}">
                    <a routerLink='/blog'>{{'header.blog' | translate}}</a>
                </li>
                <li routerLinkActive="active" [routerLinkActiveOptions]="{exact:
                    true}">
                    <a routerLink='/how-it-works'>{{'header.how it works' | translate}}</a>
                </li>
                <li routerLinkActive="active" [routerLinkActiveOptions]="{exact:
                    true}">
                    <a routerLink='/about'>{{'header.about_us' | translate}}</a>
                </li>
                <li routerLinkActive="active" [routerLinkActiveOptions]="{exact:
                    true}">
                    <a routerLink='/contact'>{{'header.contact_us' | translate}}</a>
                </li>
            </ul>
        </nav>
        <div class="app-header__logo">
            <a routerLink='/home'>
                <img src="../../assets/images/logo-header.svg" />
            </a>
        </div>
        <div class="app-header__user" >
            
            <div class="app-header__mini" (click)="navigateToNotifications();isMenuCollapsed = true" style="position: relative;">
                <span class="icon" style="margin: 0px 5px;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18.5" height="21.503" viewBox="0 0 18.5 21.503">
                        <g id="Iconly_Light_Notification" data-name="Iconly/Light/Notification"
                            transform="translate(0.75 0.75)">
                            <g id="Notification">
                                <path id="Path_425"
                                    d="M0,11.787v-.219A3.6,3.6,0,0,1,.6,9.75,4.87,4.87,0,0,0,1.8,7.436c0-.666,0-1.342.058-2.009C2.155,2.218,5.327,0,8.461,0h.078c3.134,0,6.306,2.218,6.617,5.427.058.666,0,1.342.049,2.009A4.955,4.955,0,0,0,16.4,9.759a3.506,3.506,0,0,1,.6,1.809v.209a3.566,3.566,0,0,1-.844,2.39A4.505,4.505,0,0,1,13.3,15.538a45.078,45.078,0,0,1-9.615,0A4.554,4.554,0,0,1,.835,14.167,3.6,3.6,0,0,1,0,11.787Z"
                                    transform="translate(0 0)" fill="none" stroke="#184D47" stroke-linecap="round"
                                    stroke-linejoin="round" stroke-width="1.5" />
                                <path id="Path_421"
                                    d="M0,0A3.061,3.061,0,0,0,2.037,1.127,3.088,3.088,0,0,0,4.288.5,2.886,2.886,0,0,0,4.812,0"
                                    transform="translate(6.055 18.852)" fill="none" stroke="#184D47"
                                    stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" />
                            </g>
                        </g>
                    </svg>

                </span>
            </div>
            <!-- <div class="app-header__mini" (click)="navigateToFavorites();isMenuCollapsed = true">
                <span class="icon">
                    <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <style>
                                .cls-1 {
                                    fill: none;
                                    stroke: #184D47;
                                    stroke-linecap: round;
                                    stroke-linejoin: round;
                                    stroke-width: 2px;
                                }
                            </style>
                        </defs>
                        <g data-name="16-heart" id="_16-heart">
                            <path class="cls-1"
                                d="M28.43,4.63A8.66,8.66,0,0,0,16,4.63a8.66,8.66,0,0,0-12.43,0,9.1,9.1,0,0,0,0,12.69L16,30,28.43,17.31A9.1,9.1,0,0,0,28.43,4.63Z" />
                            <path class="cls-1" d="M26,11a4,4,0,0,0-4-4" />
                        </g>
                    </svg>
                </span>
            </div> -->
            
            <div *ngIf="activeLang.title === 'AR' || activeLang === 'AR'">
                <div *ngIf="!isLoggedIn" class="app-header__signup" (click)="navigateToLogin()" >
                    <span class="icon">
                        <svg height="48" viewBox="0 0 48 48" width="48" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M24 8c-4.42 0-8 3.58-8 8 0 4.41 3.58 8 8 8s8-3.59 8-8c0-4.42-3.58-8-8-8zm0 20c-5.33 0-16 2.67-16 8v4h32v-4c0-5.33-10.67-8-16-8z" />
                            <path d="M0 0h48v48h-48z" fill="none" />
                        </svg>
                    </span>
                    {{'sign_up' | translate}}
                </div>
            </div>

            <div *ngIf="activeLang.title === 'EN' || activeLang === 'EN'">
                <div *ngIf="!isLoggedIn" class="app-header__signup" (click)="navigateToLogin()" >
                    <span class="icon">
                        <svg height="48" viewBox="0 0 48 48" width="48" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M24 8c-4.42 0-8 3.58-8 8 0 4.41 3.58 8 8 8s8-3.59 8-8c0-4.42-3.58-8-8-8zm0 20c-5.33 0-16 2.67-16 8v4h32v-4c0-5.33-10.67-8-16-8z" />
                            <path d="M0 0h48v48h-48z" fill="none" />
                        </svg>
                    </span>
                    {{'sign_up' | translate}}
                </div>
            </div>
            
            <div *ngIf="isLoggedIn" class="app-header__profile"  style="display:flex; margin-left: 10px; margin-right: 10px; position: relative; ">
                <ngx-avatar src="{{setAvatarUrl()}}"> </ngx-avatar>

                <div ngbDropdown class="dropdown loggedin" style="margin-left: 10px; margin-top: 10px;">
                    
                    <!-- <img class="avatar" src="{{setAvatarUrl()}}" alt="..." /> -->
                    <button ngbDropdownToggle  type="button" id="dropdownMenu2"
                        data-bs-toggle="dropdown" aria-expanded="false"
                        
                        style="background-color: white;border: 0px;">
                        <!-- <img class="avatar" src="{{setAvatarUrl()}}" alt="..." /> -->
                        <!-- <span class="rt-icon">
                        <fa-icon [icon]="faEllipsisV"></fa-icon>
                        
                    </span> -->
                    {{getName()}}
                    </button>
                    <ul ngbDropdownMenu class="mydropdown" aria-labelledby="dropdownMenu2" *ngIf="activeLang.title === 'AR' || activeLang === 'AR'"  >
                        <li> <button (click)="navigateToVisits();isMenuCollapsed = true" class="dropdown-item" >
                            <img src="../../../../assets/images/my_visits.png" alt="image">
                            {{'header.my_visits' | translate}}
                        </button> 
                        </li>
                        <li> <button (click)="navigateToUnits();isMenuCollapsed = true" class="dropdown-item" >
                            <img src="../../../../assets/images/my_units.png" alt="image">
                            
                            {{'header.my_units' | translate}}
                            </button>
                        </li>
                        <li><button (click)="navigateToFavorites();isMenuCollapsed = true" class="dropdown-item"
                            type="button">
                            <img src="../../../../assets/images/favorites.png" alt="image"> {{'header.Profile.Favorites' |
                            translate}}
                        </button></li>
                        <li>
                            <button (click)="navigateToEditProfile();isMenuCollapsed = true" class="dropdown-item"
                                type="button">
                                <img src="../../../../assets/images/settings.png" alt="image">{{'header.Profile.edit' |
                                translate}}
                            </button>
                        </li>
                        <!-- <li><button (click)="navigateToFavorites();isMenuCollapsed = true" class="dropdown-item" type="button"><fa-icon [icon]="faHeart" class="user-icon"></fa-icon> {{'header.Profile.Favorites' | translate}}</button></li> -->
                        <li><button (click)="showConfirmModel(content);isMenuCollapsed = true" class="dropdown-item"
                                type="button">
                                <img src="../../../../assets/images/logout.png" alt="image">{{'header.Profile.logout' |
                                translate}}
                            </button></li>  
                    </ul>
                    <ul ngbDropdownMenu class="dropdown-menu" aria-labelledby="dropdownMenu2" *ngIf="activeLang.title === 'EN' || activeLang === 'EN'"   >
                    
                        <li> <button (click)="navigateToVisits();isMenuCollapsed = true" class="dropdown-item" >
                            <img src="../../../../assets/images/my_visits.png" alt="image">
                            {{'header.my_visits' | translate}}
                        </button> 
                        </li>
                        <li> <button (click)="navigateToUnits();isMenuCollapsed = true" class="dropdown-item" >
                            <img src="../../../../assets/images/my_units.png" alt="image">
                            
                            {{'header.my_units' | translate}}
                            </button>
                        </li>
                        <li><button (click)="navigateToFavorites();isMenuCollapsed = true" class="dropdown-item"
                            type="button">
                            <img src="../../../../assets/images/favorites.png" alt="image"> {{'header.Profile.Favorites' |
                            translate}}
                        </button></li>
                        <li>
                            <button (click)="navigateToEditProfile();isMenuCollapsed = true" class="dropdown-item"
                                type="button">
                                <img src="../../../../assets/images/settings.png" alt="image">{{'header.Profile.edit' |
                                translate}}
                            </button>
                        </li>
                        <!-- <li><button (click)="navigateToFavorites();isMenuCollapsed = true" class="dropdown-item" type="button"><fa-icon [icon]="faHeart" class="user-icon"></fa-icon> {{'header.Profile.Favorites' | translate}}</button></li> -->
                        <li><button (click)="showConfirmModel(content);isMenuCollapsed = true" class="dropdown-item"
                                type="button">
                                <img src="../../../../assets/images/logout.png" alt="image">{{'header.Profile.logout' |
                                translate}}
                            </button></li>
                            
                            
                            
                    </ul>
                </div>
                <ng-template #content let-c="close" let-d="dismiss">
                    <div [class.rtl]="activeLang.title === 'AR'">
                        <div class="modal-header">
                            <h4 class="modal-title" id="modal-title">{{'header.Profile.logout' | translate}}</h4>
                        </div>
                        <div class="modal-body">
                            <p><strong>{{'header.Profile.logout message' | translate}} </strong></p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-outline-secondary"
                                (click)="c('cancel click')">{{'button.actions.cancel' | translate}}</button>
                            <button type="button" class="btn btn-danger" (click)="logout()">{{'header.Profile.logout' |
                                translate}}</button>
                        </div>

                    </div>
                </ng-template>
            </div>
            <!-- <div class="app-header__language">
                
                
            </div> -->

            <small *ngIf="activeLang.title === 'AR' || activeLang === 'AR'" style="margin: 0px 2px;">ENGLISH</small>
            <span (click)="transform_language('en')" *ngIf="activeLang.title === 'AR' || activeLang === 'AR'"  style="padding: 3px 10px !important; background: #ababb6; cursor: pointer; color: white; border-radius: 20%; margin: 0px 2px;">E</span>
            <small *ngIf="activeLang.title === 'EN' || activeLang === 'EN' " style="margin: 0px 2px;">عربي</small>
            <span (click)="transform_language('ar')" *ngIf="activeLang.title === 'EN' || activeLang === 'EN'" style="padding: 3px 10px !important; background: #ababb6; cursor: pointer; color: white ; border-radius: 20%; margin: 0px 2px;">ع</span>

            <ng-select [items]="cities3"
        bindLabel="name"
        bindValue="name"
        placeholder="{{ activeLang.title == 'AR' ? 'أختر الدولة' : 'Select country' }} "
        [(ngModel)]="selectedCityName"
        (change)="transform_country(selectedCityName)" style="border: none ! important;">
        
        <ng-template ng-label-tmp let-item="item">
            <img height="20" width="20"  [src]="item.avatar"/>
            <b>{{item.name|translate}}</b> 
            </ng-template>
            <ng-template ng-option-tmp let-item="item" let-index="index">
            <img height="15" width="15" [src]="item.avatar"/>
            <b>{{item.name|translate}}</b>
            </ng-template>
    
            </ng-select>

        <!-- </div> -->

    </div>

</div>

<!-- <nav class="navbar navbar-expand-lg navbar-light bg-light main-header white-bg custom-padding">
    <div class="container-fluid custom-nav">
        <a class="navbar-brand" routerLink='/home'>
            <span class="logo-nav"></span>
        </a>
        <button (click)="isMenuCollapsed = !isMenuCollapsed" class="navbar-toggler"  type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div [ngbCollapse]="isMenuCollapsed" class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            </ul>
            <div class="d-flex">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0 right-tabs">
                    <li (click)="navigateToVisits();isMenuCollapsed = true" class="nav-item right-tab" routerLinkActive="active" [routerLinkActiveOptions]="{exact:
                        true}">
                        <span class="visit-icon"></span>
                        <a class="nav-link" routerLink='/visits'>{{'header.my_visits' | translate}}</a>
                    </li>
                    <li (click)="navigateToUnits();isMenuCollapsed = true" class="nav-item right-tab" routerLinkActive="active" [routerLinkActiveOptions]="{exact:
                        true}">
                        <span class="units-icon"></span>
                        <a class="nav-link" routerLink='/units'>{{'header.my_units' | translate}} </a>
                    </li>
                    <li (click)="navigateToNotifications();isMenuCollapsed = true" class="nav-item right-tab" routerLinkActive="active" [routerLinkActiveOptions]="{exact:
                        true}">
                        <i class="bage" *ngIf="haveNotifications">
                            <span>.</span>
                        </i>
                        <span class="notifications-icon">
                        </span>
                        <a class="nav-link" routerLink='/notifications'>{{'header.Notifications' | translate}} </a>
                    </li>
                    <button *ngIf="!isLoggedIn" (click)="navigateToLogin()" type="button" class="btn btn-primary signup">
                        <fa-icon [icon]="faUSer" class="user-icon"></fa-icon>
                        {{'signIn.Login' | translate}}
                    </button>
                    <div ngbDropdown class="dropdown loggedin" *ngIf="isLoggedIn">
                        <button ngbDropdownToggle class="btn btn-secondary dropdown-toggle loggedin-toggle" type="button" id="dropdownMenu2" data-bs-toggle="dropdown" aria-expanded="false">
                          <img class="avatar" src="{{setAvatarUrl()}}" alt="..."/>
                          <span class="rt-icon">
                            <fa-icon [icon]="faEllipsisV"></fa-icon>
                          </span>
                        </button>
                        <ul ngbDropdownMenu class="dropdown-menu" aria-labelledby="dropdownMenu2">
                          <li>
                            <button (click)="navigateToEditProfile();isMenuCollapsed = true" class="dropdown-item" type="button"> <fa-icon [icon]="faEdit" class="user-icon"></fa-icon> {{'header.Profile.edit' | translate}}</button></li>
                          <li><button (click)="navigateToFavorites();isMenuCollapsed = true" class="dropdown-item" type="button"><fa-icon [icon]="faHeart" class="user-icon"></fa-icon> {{'header.Profile.Favorites' | translate}}</button></li>
                          <li><button (click)="showConfirmModel(content);isMenuCollapsed = true" class="dropdown-item" type="button"><fa-icon [icon]="faSignOutAlt" class="user-icon"></fa-icon> {{'header.Profile.logout' | translate}}</button></li>
                        </ul>
                      </div>
                      <button *ngFor="let l of langList" (click)="selectedLang(l);isMenuCollapsed = true" class="btn me-2"
                      type="button">{{l.title === 'AR' ? 'ع' : l.title}} </button>

                </ul>
              
            </div>
        </div>
    </div>
   
</nav>

<nav class="sub-nav white-bg custom-padding">
    <div class="container-fluid custom-nav">
        <div [ngbCollapse]="!isMenuCollapsed" class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav">
                <li class="nav-item"  routerLinkActive="active" [routerLinkActiveOptions]="{exact:
                    false}">
                    <span class="top"></span>
                    <a class="nav-link" routerLink='/home'>{{'header.tab_home' | translate}}</a>
                    <span class="bottom"></span>
                </li>
                <li class="nav-item" routerLinkActive="active" [routerLinkActiveOptions]="{exact:
                    true}">
                    <span class="top"></span>
                    <a class="nav-link" routerLink='/blog'>{{'header.blog' | translate}}</a>
                    <span class="bottom"></span>
                </li>
                <li class="nav-item" routerLinkActive="active" [routerLinkActiveOptions]="{exact:
                    true}">
                    <span class="top"></span>
                    <a class="nav-link" routerLink='/how-it-works'>{{'header.how it works' | translate}}</a>
                    <span class="bottom"></span>
                </li>
                <li class="nav-item" routerLinkActive="active" [routerLinkActiveOptions]="{exact:
                    true}">
                    <span class="top"></span>
                    <a class="nav-link" routerLink='/about'>{{'header.about_us' | translate}}</a>
                    <span class="bottom"></span>
                </li>
                <li class="nav-item" routerLinkActive="active" [routerLinkActiveOptions]="{exact:
                    true}">
                    <span class="top"></span>
                    <a class="nav-link" routerLink='/contact'>{{'header.contact_us' | translate}}</a>
                    <span class="bottom"></span>
                </li>
                </ul>
        </div>

    </div>
    <ng-template #content let-c="close" let-d="dismiss">  
        <div [class.rtl]="activeLang.title === 'AR'">
            <div class="modal-header">
                <h4 class="modal-title" id="modal-title">{{'header.Profile.logout' | translate}}</h4>
              </div>
              <div class="modal-body">
                <p><strong>{{'header.Profile.logout message' | translate}} </strong></p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary" (click)="c('cancel click')">{{'button.actions.cancel' | translate}}</button>
                <button type="button" class="btn btn-danger" (click)="logout()">{{'header.Profile.logout' | translate}}</button>
              </div>
            
        </div>
    </ng-template>

</nav> -->